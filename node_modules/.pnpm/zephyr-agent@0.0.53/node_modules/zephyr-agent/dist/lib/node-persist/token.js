"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.saveToken = saveToken;
exports.getToken = getToken;
exports.removeToken = removeToken;
exports.cleanTokens = cleanTokens;
const node_persist_1 = require("node-persist");
const secret_token_1 = require("./secret-token");
const storage_1 = require("./storage");
const storage_keys_1 = require("./storage-keys");
async function saveToken(token) {
    await storage_1.storage;
    await (0, node_persist_1.setItem)(storage_keys_1.StorageKeys.ze_auth_token, token);
}
async function getToken() {
    const tokenFromEnv = (0, secret_token_1.getSecretToken)();
    if (tokenFromEnv) {
        return tokenFromEnv;
    }
    await storage_1.storage;
    return (0, node_persist_1.getItem)(storage_keys_1.StorageKeys.ze_auth_token);
}
async function removeToken() {
    await storage_1.storage;
    await (0, node_persist_1.removeItem)(storage_keys_1.StorageKeys.ze_auth_token);
}
async function cleanTokens() {
    await storage_1.storage;
    await (0, node_persist_1.clear)();
}
//# sourceMappingURL=token.js.map