"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.savePartialAssetMap = savePartialAssetMap;
exports.getPartialAssetMap = getPartialAssetMap;
exports.removePartialAssetMap = removePartialAssetMap;
const node_persist_1 = require("node-persist");
const storage_1 = require("./storage");
const storage_keys_1 = require("./storage-keys");
function get_key(application_uid) {
    return [storage_keys_1.StorageKeys.ze_app_partial_asset_map, application_uid].join('.');
}
async function savePartialAssetMap(application_uid, partial_key, assetMap) {
    await storage_1.storage;
    const key = get_key(application_uid);
    const partial_asset_map = await (0, node_persist_1.getItem)(key);
    void (await (0, node_persist_1.setItem)(key, Object.assign({}, partial_asset_map || {}, { [partial_key]: assetMap })));
}
async function getPartialAssetMap(application_uid) {
    await storage_1.storage;
    return (0, node_persist_1.getItem)(get_key(application_uid));
}
async function removePartialAssetMap(application_uid) {
    await storage_1.storage;
    await (0, node_persist_1.removeItem)(get_key(application_uid));
}
//# sourceMappingURL=partial-assets-map.js.map